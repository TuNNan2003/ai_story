# Grandma 前端

## 简介
Grandma 前端使用 React 和 Vite 开发，提供类似GPT的用户界面和打字机效果。

## 功能特性
- GPT风格的聊天界面
- 打字机效果展示AI响应
- 模型选择功能
- 流式响应接收
- 响应式设计
- **消息布局**：用户消息在右侧（绿色色块），AI消息在左侧（深灰色色块）
- **请求优化**：前端仅发送本次用户请求内容，不包含历史消息
- **Markdown渲染**：支持大模型返回的Markdown内容渲染，包括标题、列表、代码块、表格等

## 环境要求
- Node.js 16 或更高版本
- npm 或 yarn

## 安装和运行

1. 安装依赖
```bash
cd fronend
npm install
```

2. 启动开发服务器
```bash
npm run dev
```

前端将在 `http://localhost:3000` 启动

## 构建

```bash
npm run build
```

构建产物将在 `dist` 目录中

## 项目结构
```
src/
  ├── components/      # React组件
  │   ├── ChatContainer.jsx    # 聊天容器
  │   ├── MessageList.jsx       # 消息列表
  │   ├── Message.jsx           # 单条消息
  │   ├── MarkdownRenderer.jsx  # Markdown渲染组件（结合打字机效果）
  │   ├── Typewriter.jsx        # 打字机效果组件
  │   ├── InputArea.jsx         # 输入区域
  │   └── Sidebar.jsx           # 侧边栏
  ├── App.jsx          # 主应用组件
  ├── main.jsx        # 入口文件
  └── index.css       # 全局样式
```

## 使用说明
1. 在侧边栏选择要使用的大模型
2. 在输入框中输入你的想法或问题
3. 按 Enter 或点击发送按钮
4. AI的响应将以打字机效果逐字显示

## UI设计说明

### 颜色方案（仅三种颜色）
1. **背景色**：#343541 - 统一的深灰色背景
2. **用户消息框**：#10a37f - 绿色色块，显示在右侧
3. **AI消息框**：#2f2f2f - 深灰色色块，显示在左侧

### 消息显示
- **用户消息**：显示在右侧，使用绿色色块（#10a37f）突出显示
- **AI消息**：显示在左侧，使用深灰色色块（#2f2f2f）显示
- **消息最大宽度**：单条消息最大宽度为70%，保持良好的阅读体验
- **圆角设计**：用户消息右上角和右下角圆角，AI消息左上角和左下角圆角

### 输入行为
- **AI响应时**：可以输入下一次请求的内容，但不能发送（按钮和Enter键被禁用）
- **响应完成后**：可以正常发送消息

### Markdown渲染
- **支持内容**：AI消息支持完整的Markdown渲染
  - 标题（H1-H6）
  - 列表（有序和无序）
  - 代码块（行内代码和代码块）
  - 表格（使用remark-gfm支持GitHub风格的表格）
  - 引用块
  - 链接和图片
  - 粗体和斜体
- **打字机效果**：Markdown内容在渲染时保持打字机效果
- **样式优化**：所有Markdown元素已适配深色主题

### 数据请求
- 前端每次请求仅发送当前用户输入的消息，不包含历史消息
- 后端负责管理对话历史和上下文

